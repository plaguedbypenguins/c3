.\" cnum(1)
.\" 
.\" this file with 'groff -man -Tascii cexec.1'
.\" 
.\" 
.\" 
.\" 
.TH "CNUM" "1" "5.0" "M. Brim, B. Luethke, S. Scott, A. Geist, T. Naughton, G. Vallee, W. Bland" "C3 User Manual"
.SH "NAME"
.LP 
\fBcnum\fR \- A utility that returns a node index from the given cluster(s) and a name.



.SH "SYNOPSIS"
.LP 
Usage: \fBcnum\fR [OPTIONS] [MACHINE DEFINITIONS] node_name1 [node_name2 node_name3...]
.SH "DESCRIPTION"
.LP 
\fBcnum\fR is a utility that returns a node index from the given cluster(s) and node name.  Only one node name can be searched per invocation.  The index returned is the index you would use in the node\-range section of the command line.  see \fIc3\-range(5)\fR man page for more details on using node ranges
.SH "OPTIONS"
.LP 
.TP 
\fB\-\-help \-h\fR
Display help message.

.TP 
\fB\-\-file \-f <filename>\fR
Alternate cluster configuration file.  If one is not supplied then \fI/etc/c3.conf\fR will be used.

.TP 
\fB\-\-dry\-run \-n\fR
Does not send commands to machines.

.TP 
\fB\-\-all \fR
Searches all clusters.

.TP
\fB\-\-version \-v\fR
Output version information.

.SH "GENERAL"
.LP 
There is two ways to call cnum:
.BR 

.LP 
1.  To search the default cluster:
.IP 
\fBcnum node2\fR
.IP 
This returns the node name and its index.

.LP 
2.  To to search any cluster in the configuration file:
.IP 
\fBcnum cluster1: cluster2: node3\fR
.IP 
This returns the node name and its index for each cluster in the list.
.SH "SETUP"
.LP 
See the C3 INSTALL file for installation instructions.  Also see C3_noderange for help on node ranges on the command line.
.SH "ENVIRONMENT"
.LP 
C3_RSH
.IP 
By default, the C3 tools will use ssh to issue the remote commands.  If you would like to have them use rsh instead, you must set the C3_RSH environment variable to rsh.
.IP 
For example, if you are using the bash shell you would do the following:
.IP 
\fBexport C3_RSH=rsh\fR
.IP 
Any program that behaves like rsh or ssh is acceptable.

.LP 
C3_PATH
.IP 
The default install path for C3 is /opt/c3\-5.  If you install C3 in an alternate location this variable must point to that installation.  For remote clusters C3 must be installed in the same directory on each cluster.
.IP 
For example, if you installed C3 in your home directory you might use the following:
.IP 
\fBexport C3_PATH=/home/sgrundy/c3\-5\fR
.IP 

.LP 
C3_CONF
.IP 
C3's default configuration file is /etc/c3.conf.  If you wish an alternate default configuration file set this to point to the file.
.IP 
For example, if you keep a special c3.conf file in your home directory you may use:
.IP 
\fBexport C3_CONF=/home/sgrundy/.c3conf\fR
.IP 

.LP 
C3_USER
.IP 
By default, the C3 tools will use your local username to access a remote cluster.  If you wish to use a different default then set this variable to it.
.IP 
For example, this will change the example user from sgrundy to mmanhunter:
.IP 
\fBexport C3_USER=mmanhunter\fR
.IP 
.SH "FILES"
.LP 
\fB\fI/etc/c3.conf\fR\fR
.IP 
This file is the cluster configuration file that contains the names of the nodes to which commands will be sent.  The cluster configuration file of nodes may also be specified from the command line.  The format of both files is identical.
.IP 
See the c3.conf(5) man page for the format.
.SH "SEE ALSO"
cget(1), ckill(1), cpush(1), cpushimage(4), crm(1), cshutdown(4), cexec(1), cnum(1), clist(1), c3.conf(5), c3\-range(5), c3\-scale(5)
